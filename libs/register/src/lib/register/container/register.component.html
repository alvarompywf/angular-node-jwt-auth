<div class="container register">
  <div class="container-child">
    <div class="form">
      <div>
        <h1>Register</h1>
      </div>
      <mat-progress-bar
        mode="determinate"
        [value]="progressBar"
      ></mat-progress-bar>
      <div>
        <mat-tab-group [selectedIndex]="tabIndex">
          <mat-tab [tabIndex]="1" [formGroup]="formNames">
            <!-- <mat-spinner></mat-spinner> -->
            <div>
              <div>
                <mat-form-field appearance="outline" class="example-form-field">
                  <mat-label>Nombre</mat-label>
                  <input matInput type="text" formControlName="name" />
                </mat-form-field>
              </div>
              <div>
                <mat-form-field appearance="outline" class="example-form-field">
                  <mat-label>Apellidos</mat-label>
                  <input matInput type="text" formControlName="surname" />
                </mat-form-field>
              </div>
              <!-- TODO: -->
              <div>
                <p class="sign-in">
                  Have an Account?
                  <a [routerLink]="['/login']" target="_self">Sign in</a>
                </p>
              </div>
            </div>
          </mat-tab>
          <mat-tab [tabIndex]="2">
            <div [formGroup]="formMail">
              <div>
                <mat-form-field appearance="outline" class="example-form-field">
                  <mat-label>email</mat-label>
                  <input matInput type="text" formControlName="email" />
                </mat-form-field>
              </div>
              <div>
                <mat-form-field appearance="outline" class="example-form-field">
                  <mat-label>Número de telefono</mat-label>
                  <input matInput type="text" formControlName="numberPhone" />
                </mat-form-field>
              </div>
            </div>
          </mat-tab>
          <mat-tab [tabIndex]="3" [formGroup]="formPassword">
            <div>
              <div>
                <mat-form-field appearance="outline" class="example-form-field">
                  <mat-label>password</mat-label>
                  <input matInput type="password" formControlName="password" />
                </mat-form-field>
              </div>
              <div>
                <mat-form-field appearance="outline" class="example-form-field">
                  <mat-label>Contraseña</mat-label>
                  <input
                    matInput
                    type="password"
                    formControlName="repeatPassword"
                  />
                </mat-form-field>
              </div>
            </div>
          </mat-tab>
          <mat-tab [tabIndex]="3">
            <div *ngIf="loading; else sucessRegister">
              <mat-spinner></mat-spinner>
            </div>
            <ng-template #sucessRegister>
              <p>Your registration has been completed successfully ✅</p>
            </ng-template>
          </mat-tab>
        </mat-tab-group>
      </div>

      <button
        mat-raised-button
        *ngIf="!this.hideRegisterButton"
        (click)="onNextTab()"
      >
        <span>Next</span>
      </button>
    </div>
  </div>
</div>
